<Page x:Class="ArmenRestauran.Pages.DishesPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Блюда" Loaded="Page_Loaded">

    <Grid Margin="10">
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <ItemsControl x:Name="IcDishes">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border Background="White" Margin="0,0,0,15" CornerRadius="12" 
                                BorderBrush="#D4AF37" BorderThickness="1">
                            <Border.Effect>
                                <DropShadowEffect BlurRadius="8" Opacity="0.1" Direction="270"/>
                            </Border.Effect>

                            <Grid Margin="15">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="120"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <Border Grid.Column="0" 
                                        Width="100" Height="100" 
                                        CornerRadius="8" Background="#F5F5F5"
                                        Margin="0,0,15,0">
                                    <Image Source="{Binding ImageName}" 
                                           Stretch="UniformToFill"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center">
                                        <Image.Clip>
                                            <RectangleGeometry RadiusX="8" RadiusY="8" 
                                                               Rect="0,0,100,100"/>
                                        </Image.Clip>
                                    </Image>
                                </Border>

                                <StackPanel Grid.Column="1">
                                    <TextBlock Text="{Binding ItemName}" FontSize="18" 
                                               FontWeight="Bold" Foreground="#8B0000"/>
                                    <TextBlock Text="{Binding Description}" Margin="0,5,20,0" 
                                               TextWrapping="Wrap" Foreground="#555" FontSize="13"
                                               FontStyle="Italic"/>
                                </StackPanel>

                                <StackPanel Grid.Column="2" VerticalAlignment="Center" HorizontalAlignment="Right">
                                    <TextBlock Text="{Binding Price, StringFormat={}{0} ₽}" 
                                               FontSize="20" FontWeight="ExtraBold" 
                                               Foreground="#8B0000" HorizontalAlignment="Right"/>

                                    <Button Content="Добавить" Margin="0,10,0,0" Padding="15,5"
                                            Background="#8B0000" Foreground="Gold" 
                                            FontWeight="Bold" BorderThickness="0"
                                            Click="BtnAddToCart_Click"/>
                                </StackPanel>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
    </Grid>
</Page>